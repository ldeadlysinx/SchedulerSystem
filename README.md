#  스케줄러를 이용한 데이터베이스 백업 및 일정 알림 

## 소개
Quartz Scheduler를 이용해 정해진 시간에 데이터베이스 백업과 메일알림 기능등을 restful Api로 구현하였습니다

## ⚒ 아키텍처 구조
![image](https://github.com/user-attachments/assets/1bbcc980-53b2-4570-8721-c3abecf2b82f)

- 작업 Controller: 사용자 요청을 받아 적절한 서비스를 호출하는 역할을 합니다. 예를 들어, 새로운 작업을 생성하거나, 작업을 일시 중지 또는 재개하는 등의 요청을 처리합니다.
- 작업 Service: 비즈니스 로직을 처리하는 계층입니다. 작업을 스케줄링하고, 업데이트하거나 삭제하는 등의 실제 로직을 처리합니다. 이 계층에서 JobScheduler를 이용해 작업을 관리합니다.
- 작업 Scheduler: Quartz의 스케줄링 기능을 직접 관리하는 계층입니다. 작업을 스케줄에 추가하고, 트리거를 설정하며, 작업의 상태를 관리합니다.
- 작업 Class: 제로 실행되는 작업(Job)을 정의합니다. 예를 들어, 데이터베이스 백업 작업이나 메일 알림 기능등이 이 계층에 해당합니다.
- Server: 데이터베이스와의 상호작용을 담당합니다. 작업에 대한 정보(JobInfo)를 데이터베이스에서 저장, 조회, 업데이트, 삭제하는 기능을 수행합니다.


## 🛠 주요 기능

### 🙋‍♀️ 작업기능
- 작업 생성, 작업 삭제
- 작업 일시 중지, 작업 다시 재개
- 작업 업데이트(cron 식 업데이트)
- 작업 상태 확인(Scheduled,pause,complete)

### 🙋‍♀️ 데이터베이스 백업
 - mysqldump 도구를 이용하여 데이터베이스 백업
 - 지정된 데이테베이스 스키마에서 INSERT문으로 추출
 - 정해진 시간 도달시 남는 쓰레드에 해당 작업 할당

### 🙋‍♀️ 메일 알림 기능
- 구글 이메일을 이용한 메일 알림
- 정해진 시간에 맞게 알람을 이메일로 전송


## 주요 과제

1.  과제: 작업의 동시 실행 문제
          특정 작업이 동시에 실행될 때 충돌이 발생하거나, 자원을 효율적으로 사용하지 못하는 상황 발생

    해결: 작업 실행 전에 적절한 동기화 기능을 구현 

2.  과제: Quartz 스케줄러 성능 최적화 
          여러개의 작업이 동시에 스케줄링 될경우 스케줄러 성능 문제가 발생

    해결: Quartz 스케줄러 쓰레드 풀의 수를 적절한 수로 유지 및 최적화 트리거 주기 재설정

3.  과제: Cron 표현식을 잘못 설정하면 작업이 원하지 않는 시간에 실행되거나, 아예 실행되지 않는 문제 발생

    해결: Cron 표현식을 작성할 때 다양한 도구(예: Cron 표현식 생성기)를 사용해 검증하고 테스트
